var path={image:"http://admin.mangomolo.com/analytics/",video:"http://lb218.mangomolo.com"},ProgramWithEpisode=React.createClass({displayName:"ProgramWithEpisode",render:function(){var e;return e=$(this.props.episode).length>0?React.createElement("div",{className:"li-episode"},React.createElement(EpisodeCover,{data:this.props.episode}),React.createElement("h4",null,React.createElement("a",{href:"/episode/"+this.props.episode.id},this.props.episode.title_ar)),React.createElement("p",null,this.props.episode.recorder_date)):"",React.createElement("li",null,React.createElement("div",{className:"li-program"},React.createElement("a",{href:"/show/"+this.props.id},React.createElement("img",{src:this.props.image})),React.createElement("h4",null,this.props.name),React.createElement("p",null,this.props.summary)),React.createElement("div",{className:"strike-through-header"},React.createElement("h3",null,React.createElement("a",{href:"/show/"+this.props.id},"تصفح البرنامج"))),e)}}),Program=React.createClass({displayName:"Program",render:function(){return React.createElement("li",null,React.createElement("a",{href:"/show/"+this.props.id},React.createElement("img",{src:this.props.image})),React.createElement("h4",null,this.props.name),React.createElement("p",null,this.props.summary))}}),EpisodeCover=React.createClass({displayName:"EpisodeCover",render:function(){return React.createElement("a",{href:"/episode/"+this.props.data.id},React.createElement("img",{src:path.image+this.props.data.img}),React.createElement("i",{className:"fa fa-play"}))}}),EpisodePlayer=React.createClass({displayName:"EpisodePlayer",render:function(){return React.createElement("video",{id:"example_video_1",className:"video-js vjs-default-skin",controls:!0,preload:"none",width:"597",height:"350",poster:path.image+this.props.data.img,"data-setup":""},React.createElement("source",{src:path.video+this.props.data.url,type:"video/mp4"}))}}),Episode=React.createClass({displayName:"Episode",render:function(){if("summary"==this.props.view)var e=this.props.data.description_ar;else var e=this.props.data.recorder_date;return React.createElement("li",null,React.createElement(EpisodeCover,{data:this.props.data}),React.createElement("h4",null,React.createElement("a",{href:"/episode/"+this.props.data.id},this.props.data.title_ar)),React.createElement("p",null,e))}}),EpisodeList=React.createClass({displayName:"EpisodeList",render:function(){var e=this.props.view,t=this.props.data.map(function(t,a){return React.createElement(Episode,{data:t,view:e})});return React.createElement("ul",null,t)}}),ProgramList=React.createClass({displayName:"ProgramList",render:function(){var e=this.props.data.map(function(e){return React.createElement(Program,{name:e.title_ar,summary:e.description_ar,image:path.image+e.icon,id:e.id})});return React.createElement("ul",null,e)}}),TodayBox=React.createClass({displayName:"TodayBox",getInitialState:function(){return{data:[]}},componentDidMount:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(e){this.setState({data:e}),$("#"+this.props.id+">ul").owlCarousel({items:3,nav:!0})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},render:function(){return React.createElement(EpisodeList,{data:this.state.data,view:"summary"})}}),ProgramsPage=React.createClass({displayName:"ProgramsPage",getInitialState:function(){return{data:[]}},componentDidMount:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},render:function(){var e=this.state.data.map(function(e){return React.createElement(ProgramWithEpisode,{episode:e.videos[0],name:e.title_ar,summary:e.description_ar,image:path.image+e.icon,id:e.id})});return React.createElement("ul",null,e)}}),ShowPage=React.createClass({displayName:"ShowPage",getInitialState:function(){return{data:[],category:[],videos:[],episode:[]}},componentDidMount:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(e){this.setState({data:e,category:e.category,videos:e.videos,episode:e.videos[0]})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},render:function(){return React.createElement("div",null,React.createElement("div",{className:"show-featured"},React.createElement("div",{className:"first"},React.createElement(ProgramList,{data:[this.state.category]})),React.createElement("div",{className:"second"},React.createElement("ul",null,React.createElement(Episode,{data:this.state.episode,first:!0})))),React.createElement("div",{className:"show-episodes"},React.createElement(EpisodeList,{data:this.state.videos})))}}),EpisodePage=React.createClass({displayName:"EpisodePage",getInitialState:function(){return{data:[]}},componentDidMount:function(){$.ajax({url:this.props.url,cache:!1,success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},render:function(){return React.createElement("div",{className:"iframe-holder"},React.createElement("iframe",{width:"100%",height:"100%",src:this.state.data,frameborder:"0",allowfullscreen:!0,scrolling:"no"}))}}),EpisodeHeadline=React.createClass({displayName:"EpisodeHeadline",getInitialState:function(){return{data:[]}},componentDidMount:function(){$.ajax({url:this.props.url,cache:!1,dataType:"json",success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},render:function(){return"undefined"!=typeof this.state.data.category_id&&React.render(React.createElement(EpisodeRelated,{url:"http://admin.mangomolo.com/analytics/index.php/nand/RelatedVideosInCat?id="+this.state.data.category_id+"&user_id=97"}),document.getElementById("episode-related")),React.createElement("div",null,React.createElement("h3",{className:"node-title"},this.state.data.title_ar),React.createElement("div",{className:"a-date"},moment(this.state.data.publish_time).locale("ar-tn").format("LLLL")))}}),EpisodeRelated=React.createClass({displayName:"EpisodeRelated",getInitialState:function(){return{data:[]}},componentDidMount:function(){$.ajax({url:this.props.url,cache:!1,dataType:"json",success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},render:function(){var e=this.state.data.slice(0,3),t=e.map(function(e){return React.createElement("li",null,React.createElement("div",null,React.createElement("a",{href:"/episode/"+e.id},React.createElement("img",{src:path.image+e.img})),React.createElement("div",null,React.createElement("h5",null,React.createElement("a",{href:"/episode/"+e.id},e.title_ar)))))});return React.createElement("ol",{className:"topfive"},t)}}),EpisodeBody=React.createClass({displayName:"EpisodeBody",getInitialState:function(){return{data:[]}},componentDidMount:function(){$.ajax({url:this.props.url,cache:!1,dataType:"json",success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},render:function(){return React.createElement("div",{className:"node-body"},React.createElement("p",null,this.state.data.description_ar))}}),router=new LightRouter({type:"path",pathRoot:"/"});router.add("",function(e){React.render(React.createElement(TodayBox,{id:"vod-today",url:"http://admin.mangomolo.com/analytics/index.php/nand/featured?user_id=97"}),document.getElementById("vod-today"))}),router.add("show/{id}",function(e){React.render(React.createElement(ShowPage,{url:"http://admin.mangomolo.com/analytics/index.php/nand/GetVideosWithProgramInfo?cat_id="+e.id+"&user_id=97"}),document.getElementById("show-page"))}),router.add("programs",function(e){React.render(React.createElement(ProgramsPage,{url:"http://admin.mangomolo.com/analytics/index.php/plus/category?id=45&o=channel&videos=1&user_id=97"}),document.getElementById("show-episodes"))}),router.add("episode/{id}",function(e){React.render(React.createElement(EpisodePage,{url:"http://admin.mangomolo.com/analytics/index.php/plus/getEmbed?id="+e.id+"&code=1&user_id=97"}),document.getElementById("episode-page")),React.render(React.createElement(EpisodeHeadline,{url:"http://admin.mangomolo.com/analytics/index.php/nand/VideoWithProgramInfo?video_id="+e.id+"&user_id=97"}),document.getElementById("episode-headline")),React.render(React.createElement(EpisodeBody,{url:"http://admin.mangomolo.com/analytics/index.php/nand/VideoWithProgramInfo?video_id="+e.id+"&user_id=97"}),document.getElementById("episode-body"))}),router.run(),$(function(){fluidvids.init({}),$(".node-body img[alt]").each(function(e,t){var a=$(this).attr("alt");a.length>0&&$(this).after($("<div/>").html(a).addClass("img-caption"))}),$("#owl-gallery").owlCarousel({items:1,direction:"rtl"});var e="3cf5624a5c79fd0ab3f0578b1c703f3f";$(".weather-temperature-tr").openWeather({id:"2210247",key:e,iconTarget:".weather-icon-tr",customIcons:Drupal.settings.core.themePath+"/assets/weather/",success:function(){$(".icon.tr, .weather-temperature-tr").css("visibility","visible")}}),$(".weather-temperature-ny").openWeather({key:e,city:"Sabha, Libya",iconTarget:".weather-icon-ny",customIcons:Drupal.settings.core.themePath+"/assets/weather/",success:function(){$(".icon.ny, .weather-temperature-ny").css("visibility","visible")}}),$(".weather-temperature-ca").openWeather({key:e,id:"88319",iconTarget:".weather-icon-ca",customIcons:Drupal.settings.core.themePath+"/assets/weather/",success:function(){$(".icon.ca, .weather-temperature-ca").css("visibility","visible")}})});